version: '3.6'
services:
  app:
    ports: ["8080:8080"]
    entrypoint: ["tail", "-f", "/dev/null"]
    environment:
      npm_config_registry: "http://verdaccio"
    volumes:
      - ..:/app:delegated
      - ./data/node_modules:/app/node_modules:delegated
      - ~/.npm:/root/.npm:delegated
    networks:
      verdaccio:

networks:
  verdaccio:
    external: true
    name: verdaccio
